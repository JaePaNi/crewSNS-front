(this.webpackJsonpsns=this.webpackJsonpsns||[]).push([[4],{371:function(e,t,c){"use strict";c.r(t);var n=c(48),r=c(6),s=c(7),o=c(0),a=c.n(o),i=c(338),l=c(340),j=c(79),b=c(59),u=c(49),d=c(32),O=c(34),p=c(370),h=c(345),x=c.n(h),f=function(e){var t=e.post,c=Object(d.c)((function(e){return e.storePost})),n=c.PostImages;return c.callPost&&Object(r.jsx)(x.a,{offset:100,scroll:"true",placeholder:Object(r.jsx)("div",{children:"loading..."}),height:"200px",throttle:100,children:n.map((function(e,c){return Object(r.jsx)(p.a.PreviewGroup,{children:Object(r.jsx)(p.a,{src:t.post_id===e.image_author&&e.image_link})},c)}))})},m=c(369),g=c(86),v=c(342),_=c(174),P=l.a.Paragraph,y={rows:3,expandable:!0,symbol:Object(r.jsx)("span",{children:"more"})},w=function(e){var t=e.post,c=Object(d.c)((function(e){return e.storePost})).PostReply,n=Object(d.c)((function(e){return e.storeUser})),i=n.isLogin,l=n.userId,u=Object(d.b)(),p=Object(o.useState)(""),h=Object(s.a)(p,2),x=h[0],f=h[1],w=Object(o.useCallback)((function(e){f(e.target.value)}),[]),k=Object(o.useCallback)((function(e){return function(){""!==x&&u(Object(O.d)({replyContent:x,userId:l,index:e})),f("")}}),[x,i]);return Object(r.jsxs)(j.a,{children:[Object(r.jsx)(b.a,{span:24,children:Object(r.jsx)(P,{ellipsis:y,children:t.post_content})}),c.map((function(e,c){return e.reply_post_author===t.post_id&&Object(r.jsx)(b.a,{span:24,children:Object(r.jsx)(m.a,{author:Object(r.jsx)("span",{children:e.reply_user_author}),content:Object(r.jsx)("p",{children:e.reply_content}),datetime:Object(r.jsx)(g.a,{title:e.reply_createdate,children:Object(r.jsx)("span",{children:e.reply_createdate})})})},c)})),i&&Object(r.jsxs)(a.a.Fragment,{children:[Object(r.jsx)(b.a,{md:20,xs:18,children:Object(r.jsx)(v.a,{onChange:w,value:x,placeholder:"\ub313\uae00...",bordered:!1,onPressEnter:k(t.post_id)})}),Object(r.jsx)(b.a,{md:4,xs:6,children:Object(r.jsx)(_.a,{onClick:k(t.post_id),type:"text",children:"\uac8c\uc2dc"})})]})]})};function k(){var e=Object(n.a)(["\n  margin: 30px 0;\n"]);return k=function(){return e},e}var E=i.a.Meta,C=l.a.Title,H=(t.default=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.storePost})),c=t.Post,n=t.callPost,a=Object(o.useState)(0),i=Object(s.a)(a,2),l=i[0],u=i[1],p=function(){var t=document.documentElement,c=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;c+r>n-5&&(console.log("scrollTop :: ".concat(c," scrollHeight :: ").concat(n," clientHeight :: ").concat(r)),u(l+4),e(Object(O.c)(l)))};return Object(o.useEffect)((function(){return window.addEventListener("scroll",p),function(){window.removeEventListener("scroll",p)}}),[p]),Object(o.useEffect)((function(){e(Object(O.c)(l)),u(l+4)}),[]),n&&Object(r.jsx)(j.a,{children:Object(r.jsx)(b.a,{md:10,xs:24,children:c.map((function(e,t){return Object(r.jsx)(H,{hoverable:!0,style:{maxWidth:"100%"},title:Object(r.jsx)(j.a,{align:"center",children:Object(r.jsx)(b.a,{md:21,xs:20,children:e.post_author})}),cover:Object(r.jsx)(f,{post:e},t),children:Object(r.jsx)(E,{title:Object(r.jsx)(C,{level:4,children:e.post_title}),description:Object(r.jsx)(w,{post:e})})},t)}))})})},Object(u.b)(i.a)(k()))}}]);
//# sourceMappingURL=4.0f3eb7e3.chunk.js.map